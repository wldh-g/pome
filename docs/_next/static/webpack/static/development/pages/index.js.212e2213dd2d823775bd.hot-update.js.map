{"version":3,"file":"static/webpack/static/development/pages/index.js.212e2213dd2d823775bd.hot-update.js","sources":["webpack:///./components/MenuMain/Footer/CaptureMenu.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  ActionButton, Dialog, DialogType, DialogFooter, PrimaryButton,\n  Spinner, SpinnerSize,\n} from 'office-ui-fabric-react';\nimport download from 'downloadjs';\nimport useI18n from '../../I18n';\n\nimport $ from './style.scss';\nimport D from './en.d.yml';\n\n/* eslint-disable no-console */\nconst CaptureMenu: React.SFC = () => {\n  const { t } = useI18n(D);\n  const [hideDialog, setHideDialog] = useState(true);\n  const [isCapturing, setIsCapturing] = useState(false);\n\n  /* Screen Capture */\n  // Failed Dialog Hide\n  const closeDialog = () => {\n    setHideDialog(true);\n    setIsCapturing(false);\n  };\n  // Capture Function\n  const captureMenu = () => {\n    setIsCapturing(true);\n    if (document && window) {\n      import('html2canvas').then((h2c) => {\n        h2c.default(document.querySelector('main'), {\n          backgroundColor: window.getComputedStyle(document.documentElement).backgroundColor,\n        }).then((canvas) => {\n          download(canvas.toDataURL(), t('POSTECH.png'), 'image/png');\n          setIsCapturing(false);\n        }).catch((err) => {\n          setHideDialog(false);\n          console.error(err);\n        });\n      }).catch((err) => {\n        setHideDialog(false);\n        console.error(err);\n      });\n    } else {\n      setHideDialog(false);\n    }\n  };\n\n  return (\n    <>\n      <ActionButton onClick={captureMenu} disabled={isCapturing}>\n        {t('메뉴 캡처')}\n        <Spinner\n          className={`${$.actionSpinner}${isCapturing ? ` ${$.activeSpinner}` : ''}`}\n          size={SpinnerSize.xSmall}\n        />\n      </ActionButton>\n      <Dialog\n        hidden={hideDialog}\n        dialogContentProps={{\n          type: DialogType.normal,\n          title: t('캡처 실패'),\n          subText: t('메뉴 DOM을 얻을 수 없었습니다. 잠시 후 다시 시도해보세요.'),\n        }}\n      >\n        <DialogFooter>\n          <PrimaryButton onClick={closeDialog} text={t('닫기')} />\n        </DialogFooter>\n      </Dialog>\n    </>\n  );\n};\n\nexport default CaptureMenu;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}