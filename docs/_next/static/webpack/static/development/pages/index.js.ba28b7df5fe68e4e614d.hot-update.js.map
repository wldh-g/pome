{"version":3,"file":"static/webpack/static/development/pages/index.js.ba28b7df5fe68e4e614d.hot-update.js","sources":["webpack:///./components/MenuList/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Pivot, PivotItem,\n} from 'office-ui-fabric-react';\nimport moment from 'moment';\nimport DoubleList from './DoubleList';\n\nimport $ from './style.scss';\n\ninterface MenuData {\n  processed?: boolean\n  lunch: string[]\n  dinner: string[]\n}\n\nconst MenuList: React.SFC = () => {\n  // States\n  const initialJigokData: MenuData = { lunch: [], dinner: [], processed: false };\n  const [jigokData, setJigokData] = useState(initialJigokData);\n  const initialRistData: MenuData = { lunch: [], dinner: [], processed: false };\n  const [ristData, setRISTData] = useState(initialRistData);\n\n  // Fetch Menu Data\n  useEffect(() => {\n    const APIFailed: MenuData = {\n      lunch: ['API 요청이 잘못되었습니다.'],\n      dinner: ['API 요청이 잘못되었습니다.'],\n      processed: true,\n    };\n    fetch('/api/getJigokMenu', {\n      method: 'GET',\n    }).then((response) => {\n      if (response.status === 200) {\n        response.json().then((data: MenuData) => {\n          setJigokData({\n            ...data,\n            processed: true,\n          });\n        }).catch(() => {\n          setJigokData(APIFailed);\n        });\n      } else {\n        setJigokData(APIFailed);\n      }\n    }, () => { setJigokData(APIFailed); });\n    fetch('/api/getRISTMenu', {\n      method: 'GET',\n    }).then((response) => {\n      if (response.status === 200) {\n        response.json().then((data: MenuData) => {\n          setRISTData({\n            ...data,\n            processed: true,\n          });\n        }).catch(() => {\n          setRISTData(APIFailed);\n        });\n      } else {\n        setRISTData(APIFailed);\n      }\n    }, () => { setRISTData(APIFailed); });\n  }, []);\n\n  const showWhat = moment().hour() >= 14 ? 'dinner' : 'lunch';\n\n  return (\n    <div className={$.modal}>\n      <h2 className={$.modalHead}>오늘의 교내 식단</h2>\n      <Pivot className={$.pivot} defaultSelectedKey={showWhat}>\n        <PivotItem headerText=\"점심\" itemKey=\"lunch\">\n          <DoubleList jigokData={jigokData} ristData={ristData} type=\"lunch\" />\n        </PivotItem>\n        <PivotItem headerText=\"저녁\" itemKey=\"dinner\">\n          <DoubleList jigokData={jigokData} ristData={ristData} type=\"dinner\" />\n        </PivotItem>\n      </Pivot>\n    </div>\n  );\n};\n\nexport default MenuList;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAOA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}