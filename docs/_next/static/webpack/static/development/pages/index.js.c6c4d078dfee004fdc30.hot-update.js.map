{"version":3,"file":"static/webpack/static/development/pages/index.js.c6c4d078dfee004fdc30.hot-update.js","sources":["webpack:///../node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack:///../node_modules/core-js/library/fn/date/now.js","webpack:///../node_modules/core-js/library/modules/es6.date.now.js","webpack:///./components/MenuMain/Footer/en.d.yml","webpack:///./components/MenuMain/Footer/index.tsx","webpack:///./components/MenuMain/MenuList/ListByMeal.tsx","webpack:///./components/MenuMain/MenuList/MealByPlace.tsx","webpack:///./components/MenuMain/MenuList/en.d.yml","webpack:///./components/MenuMain/MenuList/index.tsx","webpack:///./components/MenuMain/en.d.yml","webpack:///./components/MenuMain/index.tsx","webpack:///./pages/index.tsx"],"sourcesContent":["module.exports = require(\"core-js/library/fn/date/now\");","require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","const doc = [({\"en\":({\"배달 음식\":\"Delivery Menu 🇰🇷\", \"Polivery 바로가기\":\"Go To Polivery\", \"밝기 모드 변경\":\"Chane Brightness Mode\", \"밝게 보기\":\"Light Mode\", \"어둡게 보기\":\"Dark Mode\", \"데이터: 포스텍 복지회, 신세계푸드.\":\"Data: POSTECH Food Service, Shinsegae Food.\", \"시스템: 아지래견.\":\"System: Haze Dog.\"})})];\nmodule.exports = doc.length <= 1 ? doc[0] : doc;","import React from 'react';\nimport { ActionButton } from 'office-ui-fabric-react';\nimport useTheme from '../../Theme';\nimport useI18n from '../../I18n';\nimport useAPI from '../../API';\n\nimport $ from './style.scss';\nimport D from './en.d.yml';\n\nconst Footer: React.SFC = () => {\n  /* States */\n  const { t, setLocale, getLocale } = useI18n(D);\n  const { setTheme, getTheme } = useTheme();\n  const { setAPILocale, fetchMenu } = useAPI();\n\n  /* Brightness Mode */\n  // Cookie manager\n  const setNightBoy = (data?: boolean) => {\n    if (typeof data !== 'boolean') {\n      document.cookie = 'NightBoy=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n    } else {\n      document.cookie = `NightBoy=${data.toString()};expires=${\n        (new Date(Date.now() + 5184000)).toUTCString() // 60 days\n      };`;\n    }\n  };\n  // Button click action for toggle\n  const toggleDispBrightnessMode = () => {\n    if (document.documentElement.dataset?.theme === 'dark') {\n      setTheme('light');\n      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        setNightBoy(false);\n      } else {\n        setNightBoy();\n      }\n    } else {\n      setTheme('dark');\n      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        setNightBoy();\n      } else {\n        setNightBoy(true);\n      }\n    }\n  };\n\n  /* Delivery Menu */\n  const movePolivery = () => {\n    window.location.href = 'http://polivery.ml/?search';\n  };\n\n  /* Locale Change */\n  // Cookie manager\n  const setEnglishFlag = (data?: boolean) => {\n    if (typeof data !== 'boolean') {\n      document.cookie = 'EnglishFlag=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n    } else {\n      document.cookie = `EnglishFlag=${data.toString()};expires=${\n        (new Date(Date.now() + 5184000)).toUTCString() // 60 days\n      };`;\n    }\n  };\n  // Button click action for toggle\n  const toggleDispLocale = () => {\n    if (getLocale() === 'ko') {\n      setLocale('en');\n      setAPILocale('en');\n      fetchMenu('en');\n      if (window.navigator.language.indexOf('ko') >= 0) {\n        setEnglishFlag(true);\n      } else {\n        setEnglishFlag();\n      }\n    } else {\n      setLocale('ko');\n      setAPILocale('ko');\n      fetchMenu('ko');\n      if (window.navigator.language.indexOf('ko') >= 0) {\n        setEnglishFlag();\n      } else {\n        setEnglishFlag(false);\n      }\n    }\n  };\n\n  /* Render */\n  return (\n    <footer>\n      <div>\n        <ActionButton onClick={movePolivery} title={t('Polivery 바로가기')}>\n          {t('배달 음식')}\n        </ActionButton>\n        {/* <ActionButton disabled>교직원 식당 보기</ActionButton> */}\n        <ActionButton onClick={toggleDispBrightnessMode} title={t('밝기 모드 변경')}>\n          {getTheme() === 'dark' ? t('밝게 보기') : t('어둡게 보기')}\n        </ActionButton>\n        <ActionButton onClick={toggleDispLocale}>\n          {getLocale() === 'ko' ? 'English' : '한국어'}\n        </ActionButton>\n        {/* <ActionButton disabled>API</ActionButton> */}\n      </div>\n      <p>\n        {t('데이터: 포스텍 복지회, 신세계푸드.')}\n        <br />\n        {t('시스템: 아지래견.')}\n      </p>\n      <p className={$.version}>20200225.1</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport MealByPlace from './MealByPlace';\nimport useI18n from '../../I18n';\nimport { MealType } from '../../API';\n\nimport $ from './style.scss';\nimport D from './en.d.yml';\n\ninterface Props {\n  type: MealType\n};\n\nconst ListByMeal: React.SFC<Props> = (props: Props) => {\n  const { t } = useI18n(D);\n  const { type } = props;\n\n  return (\n    <div className={$.menuBLD}>\n      <div>\n        <h4>{t('학생 식당')}</h4>\n        <MealByPlace place=\"jigok\" type={type} />\n      </div>\n      <div>\n        <h4>{t('RIST 식당')}</h4>\n        <MealByPlace place=\"rist\" type={type} />\n      </div>\n    </div>\n  );\n};\n\nexport default ListByMeal;\n","import React from 'react';\nimport { Shimmer } from 'office-ui-fabric-react';\nimport { MealType, MealPlaces, useAPI } from '../../API';\nimport useI18n from '../../I18n';\n\nimport $ from './style.scss';\nimport D from './en.d.yml';\n\ninterface Props {\n  type: MealType\n  place: MealPlaces\n};\n\nconst MealByPlace: React.SFC<Props> = (props: Props) => {\n  const { getMenu, isMenuLoaded } = useAPI();\n  const { t } = useI18n(D);\n  const { place, type } = props;\n\n  const menu = getMenu(place, type);\n  let menuLists = [<div><p>{t('DOM 생성 중 오류가 발생했습니다.')}</p></div>];\n  if (menu) {\n    if (menu instanceof Array) {\n      menuLists = [\n        <div data-list key={`${place}-${type}-${Math.random()}`}>\n          {\n            menu.map((m) => <p key={`${place}-${type}-i${Math.random()}`}>{m}</p>)\n          }\n        </div>,\n      ];\n    } else {\n      const menuTitles = Object.keys(menu);\n      menuLists = [];\n      for (let idx = 0; idx < menuTitles.length; idx += 1) {\n        menuLists.push(\n          <div data-list key={`${place}-${type}-${Math.random()}`}>\n            <h6>{menuTitles[idx]}</h6>\n            {\n              menu[menuTitles[idx]]\n                .map((m) => <p key={`${place}-${type}-i${Math.random()}`}>{m}</p>)\n            }\n          </div>,\n        );\n      }\n    }\n  }\n\n  return (\n    <div className={$.menuList}>\n      {\n        isMenuLoaded(place) ? menuLists : (\n          <>\n            <Shimmer />\n            <Shimmer />\n            <Shimmer width=\"95%\" />\n            <Shimmer width=\"75%\" />\n            <Shimmer width=\"40%\" />\n          </>\n        )\n      }\n    </div>\n  );\n};\n\nexport default MealByPlace;\n","const doc = [({\"en\":({\"아침\":\"Breakfast\", \"점심\":\"Lunch\", \"저녁\":\"Dinner\", \"학생 식당\":\"Student Cafeteria\", \"RIST 식당\":\"RIST Cafeteria\", \"DOM 생성 중 오류가 발생했습니다.\":\"An error occured while generating DOM.\"})})];\nmodule.exports = doc.length <= 1 ? doc[0] : doc;","import React, { useEffect } from 'react';\nimport {\n  Pivot, PivotItem,\n} from 'office-ui-fabric-react';\nimport ListByMeal from './ListByMeal';\nimport useAPI from '../../API';\nimport useI18n from '../../I18n';\n\nimport $ from './style.scss';\nimport D from './en.d.yml';\n\n/* eslint-disable react-hooks/exhaustive-deps */\nconst MenuList: React.SFC = () => {\n  // States\n  const { setAPILocale, fetchMenu } = useAPI();\n  const { t, getLocale } = useI18n(D);\n\n  // Fetch Menu Data\n  useEffect(() => {\n    setAPILocale(getLocale());\n    fetchMenu();\n  }, []);\n\n  // Set default menu pivot item by time\n  const hour = (new Date()).getHours();\n  let showWhat = 'breakfast';\n  if (hour >= 14) {\n    showWhat = 'dinner';\n  } else if (hour >= 10) {\n    showWhat = 'lunch';\n  }\n\n  return (\n    <Pivot className={$.menuContainer} defaultSelectedKey={showWhat}>\n      <PivotItem headerText={t('아침')} itemKey=\"breakfast\">\n        <ListByMeal type=\"breakfast\" />\n      </PivotItem>\n      <PivotItem headerText={t('점심')} itemKey=\"lunch\">\n        <ListByMeal type=\"lunch\" />\n      </PivotItem>\n      <PivotItem headerText={t('저녁')} itemKey=\"dinner\">\n        <ListByMeal type=\"dinner\" />\n      </PivotItem>\n    </Pivot>\n  );\n};\n\nexport default MenuList;\n","const doc = [({\"en\":({\"오늘의 교내 식단\":\"Today's Campus Menu\"})})];\nmodule.exports = doc.length <= 1 ? doc[0] : doc;","import React from 'react';\nimport MenuList from './MenuList';\nimport Footer from './Footer';\nimport useI18n from '../I18n';\n\nimport $ from './style.scss';\nimport D from './en.d.yml';\n\nconst MenuMain: React.SFC = () => {\n  const { t } = useI18n(D);\n\n  return (\n    <div className={$.container}>\n      <main>\n        <h1>{t('오늘의 교내 식단')}</h1>\n        <MenuList />\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default MenuMain;\n","import React from 'react';\nimport Wrapper from '../components/Wrapper';\nimport MenuMain from '../components/MenuMain';\n\nconst Index: React.SFC = () => (\n  <Wrapper main>\n    <MenuMain />\n  </Wrapper>\n);\n\nexport default Index;\n"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;ACAA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC9GA;AACA;AACA;AAGA;AACA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;;;;;;;;;AC/DA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;AC/CA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AACA;AAKA;;;;A","sourceRoot":""}